(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))r(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const n of t.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&r(n)}).observe(document,{childList:!0,subtree:!0});function o(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function r(e){if(e.ep)return;e.ep=!0;const t=o(e);fetch(e.href,t)}})();document.addEventListener("DOMContentLoaded",()=>{console.log("Deck Realms - Intro Screen");const d=document.querySelectorAll(".video-glassmorphic-frame");document.getElementById("enterDeckRealmsBtn"),document.getElementById("enterGameNowBtn");const s=document.getElementById("storyBtn"),o=document.getElementById("storyModal"),r=document.querySelector(".story-close-btn");d.forEach(e=>{const t=e.querySelector(".featured-video"),n=e.querySelector(".close-banner-btn");t&&(e.addEventListener("click",c=>{if(!(c.target===n||n.contains(c.target))&&!e.classList.contains("generated")&&!e.classList.contains("expanded")){d.forEach(i=>i.classList.remove("expanded")),e.classList.add("expanded"),t.muted=!1,t.play().catch(i=>console.log("Video play error:",i));const l=e.getAttribute("data-faction");document.body.className=`faction-${l.toLowerCase()}`}}),n&&n.addEventListener("click",c=>{c.stopPropagation(),e.classList.remove("expanded"),t.pause(),t.currentTime=0,t.muted=!0,document.body.className=""}),e.style.cursor="pointer")}),s&&o&&s.addEventListener("click",()=>{o.classList.remove("hidden")}),r&&o&&r.addEventListener("click",()=>{o.classList.add("hidden")}),o&&o.addEventListener("click",e=>{e.target===o&&o.classList.add("hidden")})});
