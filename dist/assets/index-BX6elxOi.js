(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))r(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const t of o.addedNodes)t.tagName==="LINK"&&t.rel==="modulepreload"&&r(t)}).observe(document,{childList:!0,subtree:!0});function c(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(e){if(e.ep)return;e.ep=!0;const o=c(e);fetch(e.href,o)}})();document.addEventListener("DOMContentLoaded",()=>{console.log("Deck Realms - Intro Screen");const l=document.querySelectorAll(".video-glassmorphic-frame"),n=document.getElementById("enterDeckRealmsBtn"),c=document.getElementById("enterGameNowBtn"),r=document.getElementById("storyBtn"),e=document.getElementById("storyModal"),o=document.querySelector(".story-close-btn");l.forEach(t=>{const s=t.querySelector(".featured-video"),i=t.querySelector(".close-banner-btn");s&&(t.addEventListener("click",d=>{if(!(d.target===i||i.contains(d.target))&&!t.classList.contains("generated")&&!t.classList.contains("expanded")){l.forEach(a=>a.classList.remove("expanded")),t.classList.add("expanded"),s.muted=!1,s.play().catch(a=>console.log("Video play error:",a));const u=t.getAttribute("data-faction");document.body.className=`faction-${u.toLowerCase()}`}}),i&&i.addEventListener("click",d=>{d.stopPropagation(),t.classList.remove("expanded"),s.pause(),s.currentTime=0,s.muted=!0,document.body.className=""}),t.style.cursor="pointer")}),r&&e&&r.addEventListener("click",()=>{e.classList.remove("hidden")}),o&&e&&o.addEventListener("click",()=>{e.classList.add("hidden")}),e&&e.addEventListener("click",t=>{t.target===e&&e.classList.add("hidden")}),n&&n.addEventListener("click",()=>{window.location.href="index1.html"}),c&&c.addEventListener("click",()=>{window.location.href="index1.html"})});
